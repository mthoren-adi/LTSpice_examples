Version 4
SHEET 1 1128 680
WIRE 272 -544 160 -544
WIRE 320 -544 272 -544
WIRE 448 -544 320 -544
WIRE 752 -544 448 -544
WIRE 768 -544 752 -544
WIRE 160 -528 160 -544
WIRE 272 -464 272 -544
WIRE 448 -464 448 -544
WIRE 160 -432 160 -448
WIRE 272 -320 272 -384
WIRE 384 -320 272 -320
WIRE 640 -320 384 -320
WIRE 752 -256 752 -544
WIRE 768 -256 768 -544
WIRE -1120 -240 -1136 -240
WIRE -816 -240 -1040 -240
WIRE -272 -240 -592 -240
WIRE -112 -240 -272 -240
WIRE 48 -240 -32 -240
WIRE 272 -240 272 -320
WIRE 272 -240 208 -240
WIRE 448 -240 448 -384
WIRE 544 -240 448 -240
WIRE 720 -240 544 -240
WIRE 848 -224 784 -224
WIRE 880 -224 848 -224
WIRE 1056 -224 960 -224
WIRE 448 -208 448 -240
WIRE 544 -208 544 -240
WIRE 640 -208 640 -320
WIRE 720 -208 640 -208
WIRE 1056 -192 1056 -224
WIRE -816 -160 -832 -160
WIRE -416 -160 -592 -160
WIRE -416 -144 -416 -160
WIRE 208 -96 208 -160
WIRE 272 -96 208 -96
WIRE -912 -80 -928 -80
WIRE -816 -80 -832 -80
WIRE -576 -80 -592 -80
WIRE 448 -80 448 -128
WIRE 544 -80 544 -144
WIRE 544 -80 448 -80
WIRE 736 -80 736 -192
WIRE 736 -80 544 -80
WIRE 752 -80 752 -192
WIRE 752 -80 736 -80
WIRE 768 -80 768 -192
WIRE 768 -80 752 -80
WIRE -576 -48 -576 -80
WIRE -544 -48 -576 -48
WIRE -416 -48 -416 -64
WIRE 272 -48 272 -96
WIRE 48 -32 48 -160
WIRE 544 -32 544 -80
WIRE 1056 -16 1056 -128
WIRE 384 0 384 -320
WIRE 720 0 384 0
WIRE 848 0 848 -224
WIRE 848 0 800 0
WIRE -544 64 -544 -48
WIRE 272 112 272 32
FLAG -1136 -240 0
FLAG -416 -48 0
FLAG -832 -160 0
FLAG -928 -80 0
FLAG -544 64 0
FLAG 272 112 0
FLAG -272 -240 PWMout
FLAG 48 -32 0
FLAG 544 -32 0
FLAG 320 -544 Vsecondary
FLAG 160 -432 0
FLAG 1056 -16 0
SYMBOL res -816 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100K
SYMBOL voltage -416 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage -1024 -240 R90
WINDOW 123 74 56 VTop 2
WINDOW 39 53 56 VTop 2
WINDOW 3 32 56 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value .9
SYMATTR InstName V2
SYMBOL SpecialFunctions\\LTC6992-2 -704 -160 R0
SYMATTR InstName U1
SYMBOL ind2 224 -144 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Ls
SYMATTR Value 10µ
SYMBOL ind2 32 -144 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Lp
SYMATTR Value 10µ
SYMBOL res -16 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL cap 528 -208 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL res 256 -64 R0
SYMATTR InstName R3
SYMATTR Value 4K
SYMBOL res 256 -480 R0
SYMATTR InstName R4
SYMATTR Value 4K
SYMBOL voltage 160 -544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 3
SYMBOL Comparators\\LT1719 752 -288 R0
SYMATTR InstName U2
SYMBOL res 976 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL cap 1040 -192 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 432 -224 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL res 432 -480 R0
SYMATTR InstName R7
SYMATTR Value 10K
SYMBOL res 816 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100K
TEXT -552 -448 Left 2 !.tran 5m
TEXT 64 -280 Left 2 !K1 Lp Ls 1
TEXT -1168 -864 Left 2 ;Getting a 500 kHz PWM across a barrier, and reconstructing DC.\n \nTheory of operation: get high passed PWM across the barrier, and reconstruct.\nHigh passed PWM allows for use of small, low cost transformer with low inductance.\n \nR8 interacts with R4 and R3 to provide comparator hysteresis.\nR5 and C2 provide the final DC filtering.\nThe comparator is biased at mid-rail.\nR7 and R2 need to be low enough to overcome potential bias current from the comparator that could sway the operating point.
