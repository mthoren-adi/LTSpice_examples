Version 4
SHEET 1 2144 1156
WIRE 1216 -1280 1024 -1280
WIRE 1312 -1280 1216 -1280
WIRE 1408 -1280 1312 -1280
WIRE 1792 -1280 1696 -1280
WIRE 1856 -1280 1792 -1280
WIRE 2080 -1280 1856 -1280
WIRE 1024 -1248 1024 -1280
WIRE 1216 -1216 1216 -1280
WIRE 2080 -1200 2080 -1280
WIRE 1312 -1184 1312 -1280
WIRE 1408 -1184 1312 -1184
WIRE 1792 -1184 1792 -1280
WIRE 1792 -1184 1696 -1184
WIRE 1216 -1008 1216 -1152
WIRE 1552 -1008 1552 -1120
WIRE 1552 -1008 1216 -1008
WIRE 1856 -1008 1856 -1200
WIRE 1856 -1008 1552 -1008
WIRE 2080 -1008 2080 -1136
WIRE 2080 -1008 1856 -1008
WIRE 1552 -880 1552 -1008
WIRE 1024 -672 1024 -1168
WIRE 1552 -672 1552 -800
WIRE -1120 -240 -1136 -240
WIRE -976 -240 -1040 -240
WIRE -816 -240 -976 -240
WIRE -272 -240 -592 -240
WIRE -176 -240 -272 -240
WIRE 48 -240 -32 -240
WIRE 352 -240 208 -240
WIRE 512 -240 416 -240
WIRE 592 -240 512 -240
WIRE 656 -240 592 -240
WIRE 736 -240 656 -240
WIRE 912 -240 816 -240
WIRE 1008 -240 912 -240
WIRE 1088 -240 1008 -240
WIRE 912 -208 912 -240
WIRE 656 -192 656 -240
WIRE 512 -176 512 -240
WIRE -816 -160 -832 -160
WIRE -416 -160 -592 -160
WIRE -416 -144 -416 -160
WIRE 208 -96 208 -160
WIRE 272 -96 208 -96
WIRE 512 -96 512 -112
WIRE 512 -96 272 -96
WIRE -912 -80 -928 -80
WIRE -816 -80 -832 -80
WIRE -576 -80 -592 -80
WIRE 656 -64 656 -112
WIRE 912 -64 912 -144
WIRE 912 -64 656 -64
WIRE -576 -48 -576 -80
WIRE -544 -48 -576 -48
WIRE -416 -48 -416 -64
WIRE 48 -32 48 -160
WIRE 272 -32 272 -96
WIRE 912 -32 912 -64
WIRE -544 64 -544 -48
WIRE -976 224 -976 -240
WIRE -816 224 -976 224
WIRE -400 224 -592 224
WIRE -208 224 -400 224
WIRE -96 224 -128 224
WIRE 48 224 -32 224
WIRE 352 224 208 224
WIRE 544 224 416 224
WIRE 656 224 544 224
WIRE 1008 224 656 224
WIRE 1184 224 1008 224
WIRE 1280 224 1184 224
WIRE 1456 224 1360 224
WIRE 1584 224 1456 224
WIRE 1664 224 1584 224
WIRE 544 256 544 224
WIRE 1456 256 1456 224
WIRE 656 288 656 224
WIRE -816 304 -832 304
WIRE -416 304 -592 304
WIRE -416 320 -416 304
WIRE 1184 336 1184 224
WIRE 544 352 544 336
WIRE -912 384 -928 384
WIRE -816 384 -832 384
WIRE -576 384 -592 384
WIRE -576 416 -576 384
WIRE -544 416 -576 416
WIRE -416 416 -416 400
WIRE 48 432 48 304
WIRE 496 432 432 432
WIRE 1184 464 1184 416
WIRE 1456 464 1456 320
WIRE 1456 464 1184 464
WIRE 1456 512 1456 464
WIRE -544 528 -544 416
WIRE 208 576 208 304
WIRE 272 576 208 576
WIRE 544 576 544 448
WIRE 544 576 272 576
WIRE 656 576 656 352
WIRE 656 576 544 576
WIRE 208 672 208 576
WIRE 208 816 208 752
WIRE 432 816 432 432
WIRE 432 816 208 816
WIRE 496 816 432 816
WIRE 272 896 272 576
FLAG -1136 -240 0
FLAG -416 -48 0
FLAG -832 -160 0
FLAG -928 -80 0
FLAG -544 64 0
FLAG 272 -32 0
FLAG -272 -240 PWMout1
FLAG 48 -32 0
FLAG 912 -32 0
FLAG -416 416 0
FLAG -832 304 0
FLAG -928 384 0
FLAG -544 528 0
FLAG 272 896 0
FLAG -400 224 PWMout2
FLAG 48 432 0
FLAG 1456 512 0
FLAG 1008 -240 OUT_simple
FLAG 1584 224 OUT_complex
FLAG 1024 -672 0
FLAG 1552 -672 0
FLAG 592 -240 PWMinput1
FLAG 1008 224 PWMinput2
SYMBOL res -816 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100K
SYMBOL voltage -416 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage -1024 -240 R90
WINDOW 123 74 56 VTop 2
WINDOW 39 53 56 VTop 2
WINDOW 3 32 56 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value .75
SYMATTR InstName V2
SYMBOL SpecialFunctions\\LTC6992-2 -704 -160 R0
SYMATTR InstName U1
SYMBOL ind2 224 -144 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Ls
SYMATTR Value 1m
SYMBOL ind2 32 -144 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Lp
SYMATTR Value 1m
SYMBOL res 832 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL cap 896 -208 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL cap -32 -256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL cap 416 -256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -816 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100K
SYMBOL voltage -416 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 3
SYMBOL SpecialFunctions\\LTC6992-2 -704 304 R0
SYMATTR InstName U2
SYMBOL ind2 224 320 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Ls2
SYMATTR Value 1m
SYMBOL ind2 32 320 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Lp2
SYMATTR Value 1m
SYMBOL res 1376 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL cap 1440 256 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL cap -32 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL cap 416 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL ind2 224 768 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Ls3
SYMATTR Value 1m
SYMBOL nmos 496 352 R0
SYMATTR InstName M1
SYMATTR Value NDC7002N
SYMBOL res 560 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value .0001
SYMBOL res 1200 432 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL res -112 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL res -80 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL schottky 528 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL schottky 672 352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL res 672 -96 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 1Meg
SYMBOL voltage 1024 -1264 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL PowerProducts\\LT3007-1.2 1552 -1232 R0
SYMATTR InstName U3
SYMBOL res 1840 -1296 R0
SYMATTR InstName R9
SYMATTR Value 600
SYMBOL voltage 1552 -896 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 10
SYMBOL cap 1200 -1216 R0
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL cap 2064 -1200 R0
SYMATTR InstName C8
SYMATTR Value 2.2µ
TEXT -552 -448 Left 2 !.tran 2m
TEXT 64 -280 Left 2 !K1 Lp Ls 1
TEXT -832 -736 Left 2 ;Getting a 500 kHz PWM across a barrier, and reconstructing DC.\n \nNote, duty cycle matters.  The reconstruction suffers at low duty cycles, when even with the\nadvanced circuit the "off" state does not prevent a negative shift in the "ground" reference\nof the PWM waveform feeding the final R-C filter.
TEXT 64 136 Left 2 !K2 Lp2 Ls2 Ls3 1
