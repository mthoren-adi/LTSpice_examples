Version 4
SHEET 1 3232 872
WIRE -176 -688 -576 -688
WIRE -160 -688 -176 -688
WIRE -48 -688 -48 -704
WIRE -48 -688 -96 -688
WIRE -48 -656 -48 -688
WIRE -576 -640 -576 -688
WIRE -176 -624 -176 -688
WIRE -48 -544 -48 -576
WIRE -736 -528 -832 -528
WIRE -576 -528 -576 -576
WIRE -576 -528 -656 -528
WIRE -176 -528 -176 -544
WIRE -832 -480 -832 -528
WIRE -576 -480 -576 -528
WIRE -384 -480 -496 -480
WIRE -320 -480 -384 -480
WIRE -224 -480 -240 -480
WIRE -384 -464 -384 -480
WIRE -448 -416 -448 -496
WIRE -224 -416 -224 -480
WIRE -176 -416 -176 -448
WIRE -176 -416 -224 -416
WIRE -496 -400 -496 -480
WIRE -480 -400 -496 -400
WIRE -176 -400 -176 -416
WIRE -384 -384 -384 -400
WIRE -384 -384 -416 -384
WIRE -320 -384 -384 -384
WIRE -224 -384 -240 -384
WIRE -576 -368 -576 -400
WIRE -480 -368 -576 -368
WIRE -704 -352 -1024 -352
WIRE 80 -352 0 -352
WIRE -448 -320 -448 -352
WIRE 0 -320 0 -352
WIRE -864 -304 -896 -304
WIRE -752 -304 -800 -304
WIRE 192 -288 128 -288
WIRE -176 -272 -176 -304
WIRE 192 -272 192 -288
WIRE -576 -240 -576 -368
WIRE 0 -224 0 -240
WIRE 80 -224 80 -352
WIRE 128 -224 128 -288
WIRE -1408 -208 -1600 -208
WIRE -1248 -208 -1408 -208
WIRE -1104 -208 -1248 -208
WIRE -1024 -208 -1024 -352
WIRE -1008 -208 -1024 -208
WIRE -896 -208 -896 -304
WIRE -896 -208 -928 -208
WIRE -848 -192 -848 -208
WIRE -896 -176 -896 -208
WIRE -880 -176 -896 -176
WIRE -176 -176 -176 -208
WIRE -144 -176 -176 -176
WIRE 64 -176 -64 -176
WIRE 224 -176 144 -176
WIRE -752 -160 -752 -304
WIRE -752 -160 -816 -160
WIRE -624 -160 -752 -160
WIRE -1104 -144 -1104 -208
WIRE -1088 -144 -1104 -144
WIRE -992 -144 -1008 -144
WIRE -880 -144 -992 -144
WIRE -704 -128 -704 -352
WIRE -576 -128 -576 -144
WIRE -576 -128 -704 -128
WIRE -1408 -112 -1408 -208
WIRE -1248 -112 -1248 -208
WIRE 224 -112 224 -176
WIRE -992 -96 -992 -144
WIRE -848 -96 -848 -128
WIRE -576 -96 -576 -128
WIRE -176 -96 -176 -176
WIRE -1248 0 -1248 -32
WIRE -992 0 -992 -32
WIRE -576 0 -576 -16
WIRE -1408 16 -1408 -32
WIRE -176 16 -176 -32
WIRE 224 16 224 -32
WIRE -576 96 -576 80
FLAG 224 16 0
FLAG -48 -544 0
FLAG -848 -96 0
FLAG -48 -704 V40
FLAG -848 -208 V40
FLAG -992 0 0
FLAG -1408 16 0
FLAG -1248 0 0
FLAG -176 16 0
FLAG -448 -320 0
FLAG -576 96 0
FLAG -832 -480 0
FLAG -448 -496 V40
FLAG 192 -272 0
FLAG 0 -224 0
SYMBOL res 208 -128 R0
SYMATTR InstName R1
SYMATTR Value 250
SYMBOL voltage -48 -672 R0
SYMATTR InstName V2
SYMATTR Value 40
SYMBOL res -912 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -192 -640 R0
SYMATTR InstName R2
SYMATTR Value 309
SYMBOL cap -864 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 0.01µF
SYMBOL pmos -224 -304 M180
SYMATTR InstName M1
SYMATTR Value Si4835DY
SYMBOL cap -1008 -96 R0
SYMATTR InstName C2
SYMATTR Value 0.01µF
SYMBOL voltage -1408 -128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -56 181 Left 2
SYMATTR Value PWL(0s 1mV 0.1s 1mV 1.1s 1V)
SYMATTR InstName V1
SYMBOL diode -160 -272 M0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -592 -496 R0
SYMATTR InstName R7
SYMATTR Value 3.16k
SYMBOL res -1232 -16 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL zener -160 -32 R180
WINDOW 0 24 72 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5369B
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -224 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -224 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL cap -400 -464 R0
SYMATTR InstName C3
SYMATTR Value 0.01µF
SYMBOL nmos -624 -240 R0
SYMATTR InstName M2
SYMATTR Value FDS5680
SYMBOL res -592 -112 R0
SYMATTR InstName R9
SYMATTR Value 604
SYMBOL res -1104 -128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL Opamps\\LT6016 -448 -384 R0
SYMATTR InstName U1
SYMBOL References\\LT1634-1.25 -576 -608 R0
SYMATTR InstName U2
SYMBOL Opamps\\LT6016 -848 -160 R0
SYMATTR InstName U3
SYMBOL res -640 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL res -592 -16 R0
SYMATTR InstName R11
SYMATTR Value 11
SYMBOL diode -96 -704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -192 -544 R0
SYMATTR InstName R12
SYMATTR Value 10
SYMBOL res -160 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 10
SYMBOL Comparators\\LT1716 144 -496 R0
SYMATTR InstName U4
SYMBOL sw 160 -176 R90
SYMATTR InstName S1
SYMATTR Value OpenWire
SYMBOL voltage 0 -336 R0
WINDOW 3 -45 -25 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PWL(0s 2V 1.13s 2V 1.14s 0V)
TEXT -136 80 Left 2 !.tran 0 1.2s 0.10 1ms
TEXT -1600 -312 Left 2 ;Vin from source\n0V in gives 4mA Out\n1V full scale in gives 20mA Out
TEXT -560 -120 Left 2 ;0mA to 1.6mA
TEXT -256 -8 Left 2 ;(51Vz)
TEXT 304 -256 Left 2 !.model OpenWire SW(Ron=.1 Roff=1Meg Vt=1 Vh=-.05)
